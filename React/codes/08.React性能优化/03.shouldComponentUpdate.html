<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div id="app">

    </div>
    <!-- 1.添加react依赖 -->
    <script src="../00.依赖/react@17umdreact.development.js"></script>
    <script src="../00.依赖/react-dom@17umdreact-dom.development.js"></script>
    <script src="../00.依赖/babel-standalone@6babel.min.js"></script>

</body>

<script type="text/babel">
    class Header extends React.Component {
        render() {
            console.log("Header被调用");
            return <div>header组件</div>;
        }
        shouldComponentUpdate() {
            return false
        }
    }
    class Main extends React.Component {
        render() {
            console.log("Main被调用");
            return <div>main组件</div>;
        }
        shouldComponentUpdate() {
            return false
        }
    }
    class Footer extends React.Component {
        render() {
            console.log("Footer被调用");
            return <div>footer组件</div>;
        }
        /* 
            shouldComponentUpdate默认返回的值时true;
            当返回值为true时，则会重新调用render函数
            当为false时，则不会调用render函数
            所以可以在适当的条件下返回true或者false
            就此可以优化render函数的调用和
        */
        shouldComponentUpdate() {
            return false
        }
    }

    class App extends React.Component {
        constructor() {
            super();
            this.state = {
                number: 0
            }
        }
        render() {
            return (
                <div>
                    <h2>当前计数：{this.state.number}</h2>
                    <button onClick={() => { this.add() }}>+1</button>
                    <Header />
                    <Main />
                    <Footer />
                </div>
            );
        }
        add() {
            this.setState({
                number: this.state.number + 1,
            })
        }
    }
    ReactDOM.render(<App />, document.querySelector("#app"));
</script>

</html>